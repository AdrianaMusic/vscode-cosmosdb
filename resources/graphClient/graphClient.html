<!DOCTYPE html>
<html>

<!--
*  Copyright (c) Microsoft Corporation. All rights reserved.
*  Licensed under the MIT License. See License.txt in the project root for license information.
*-->

<head>
    <link rel="stylesheet" type="text/css" href="graphClient.css"></link>

    <script src='../../node_modules/d3/d3.js' charset="UTF-8"></script>

    <script>window.exports = {};</script>
    <script src="../../node_modules/socket.io-client/dist/socket.io.js"></script>
    <script>
        io = exports.io;
    </script>

    <script src="../../out/src/graph/client/graphClient.js"></script>
</head>

<body>
    <h1 id="title">graphStephwe asdf</h1>

    <div>
        <div>
            <input id="queryInput" type="text" placeholder='Enter gremlin query ("g.V()" for all vertices)'></input>
            <button id="executeButton" onclick="onExecuteClick()">Execute</button>
        </div>
        <div id="queryStatus">Working...</div>
        <textarea id="queryError" class="error collapsed" readonly="readonly"></textarea>
    </div>

    <div id="radioButtons" class="toggle-radio-buttons">
        <input type="radio" id="graphRadio" name="resultsToggle" value="graph" checked>
        <label for="graphRadio">Graph</label>
        <input type="radio" id="jsonRadio" name="resultsToggle" value="json">
        <label for="jsonRadio">JSON</label>

    </div>

    <div id="resultsBackground" width="100%">
        <div id="resultsSection">
            <div id="graphSection" class="graph-available">
                <!-- SVG will be inserted here -->
                <div id="graph-watermark" class="watermark">
                    The results do not contain any vertices. Please see the JSON section for details.
                </div>
            </div>
            <div id="jsonSection">
                <textarea id="jsonResults"></textarea>
            </div>
        </div>
        <div id="query-watermark" class="watermark">
            Please enter a query and click Execute.
        </div>
    </div>

    <div id="debug" class="collapsed">
        <h5>Debug log</h5>
        <textarea id="debugLog" style="height:400px; width: 100%;"></textarea>
    </div>

    <script>
        var graphClient = new GraphClient(57567 /*asdf*/);

        function onExecuteClick() {
            graphClient.query(queryInput.value);
        }
    </script>
</body>

</html>
